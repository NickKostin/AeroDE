# AeroDE

## Задание

Из открытого api необходимо каждые 12 часов забирать данные и складывать их в хранилище. 
Коннектор должен будет реализовать простую логику ELT процесса, когда забираются данные и кладутся без изменений в БД для дальнейшей обработки. 
Оркестрация должна быть на кроне или на Airflow (необходимо написать коннектор под Airflow).

## Решение

### 1. Разработанное решение поддерживает оркестрацию на crontab. 
Для этого необходимо запустить файл cron_run.py , предвариительно прописав в .env параметры запуска (базу данных, пользователя, пароль, хост, порт, пользователя cron, команду запуска в cron*).
Пример команды запуска python кода (команда запуска в cron):
'/Users/.../python3.10 /Users/.../main.py >> /Users/.../log_file.txt 2>&1'
В данном примере использутся логирование запуска cron в директорию.
Для просмотра в терминале всех запущенных тасков необходимо выполнить следующую команду:
'crontab -l'

### 2. Разработанное решение поддерживает оркестрацию через Airflow.
Для этого необходимо запустить следующую команду в терминале проекта:
'docker container ls'
После чего запустить команду:
'docker-compose up --build'
Для остановки контейнера docker рекомендуется использовать следующую команду:
'docker-compose down'
